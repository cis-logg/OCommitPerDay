x86 메모리 관리

실제 주소 모드 
16진수 주소 00000부터 FFFFF까지의 1MB의 메모리만 주소지정 될 수 있다.

보호 모드
프로세서는 동시에 여러 개의 프로그램을 실행한다.
프로세서는 (실행 중인 프로그램) 각 프로세스에게 총 4GB의 메모리를 할당한다.
프로그램들이 상대의 코드와 데이터에 접근하는 것을 방지한다.

가상 8086 모드
보호모드에서 시뮬레이션하는 1MB 전용 주소공간을 가진 가상 8086 기계를 만든다.

실제 주소 모드 
20bit 주소를 사용(00000 ~FFFFF), 1,048,576 byte의 메모리(1MB)를 접근한다.
segmented memory : 16bit 레지스터가 20bit 주소를 저장할 수 없음. 
	segment라고 하는 64KB 단위로 나뉘어진다.
	segment : 빌딩의 층
	offset : 방 번호

	8000:0250 
	80000 에서 시작하는 segment 내의 offset 250을 나타낸다.
	이 선형 주소는 80250h

20bit 선형 주소 계산
byte-addressable memory
	address는 메모리의 한 위치를 나타내며 x86 프로세서는 각 바이트가 개별적인 주소를 갖도록 한다.
	실제 주소 모드에서 선형 주소(절대 주소)는 20bit(00000~FFFFF)
	프로그램은 선형 주소를 직접 사용할 수 없어 두개의 16bit를 사용하여 주소를 나타낸다.
	16bit segment : 세그먼트 레지스터 (CS, DS, ES, SS)중 하나에 위치
	16bit offset

CPU는 세그먼트-오프셋 주소를 20bit 선형 주소로 자동 변환한다.
CPU는 세그먼트 값에 16을 곱하고 곱에 변수의 오프셋을 더한다.

일반적인 프로그램은 코드/데이터/스택 세 개의 세그먼트를 갖는다.
CS : 16bit 코드 세그먼트 시작 위치 주소를 포함
DS : 16bit 데이터 세그먼트 시작 위치 주소를 포함
SS : 16bit 스택 세그먼트 시작 위치 주소를 포함한다.
ES, FS, GS는 기본 데이터 세그먼트를 보충하는 세그먼트를 가리킬 수 있다. 




